<form name="$ctrl.searchClientForm" layout="row" layout-align="start center">
    <md-autocomplete flex
        placeholder="Cauta client dupa nume, prenume, telefon sau email" 
        md-select-on-focus
        md-no-cache="true" 
        md-delay="500" 
        md-search-text="$ctrl.data.searchText" 
        md-selected-item-change="$ctrl.actions.openClientPage(client._id)" 
        md-items="client in $ctrl.actions.searchClients($ctrl.data.searchText)"
        md-item-text="client.firstName + ' ' + client.lastName">
        <md-item-template>

            <div layout="row" layout-align="start center">
                <div 
                    md-highlight-text="$ctrl.data.searchText" 
                    md-highlight-flags="i">
                    {{client.firstName}} {{client.lastName}}
                </div>
                <div>
                    <md-icon ng-if="client.isVip" ng-class="['vip-text', client.vip.level.label]">
                        star
                        <md-tooltip>
                            VIP: {{client.vip.type.label}}
                        </md-tooltip>
                    </md-icon>
                </div>
                <div flex></div>
                <div layout="column" layout-align="start end">
                    <div md-highlight-text="$ctrl.data.searchText" md-highlight-flags="i" ng-if="client.phoneNumber">
                        {{client.phoneNumber}} 
                    </div>
                    <div md-highlight-text="$ctrl.data.searchText" md-highlight-flags="i" ng-if="client.email">
                        {{client.email}} 
                    </div>
                </div>
            </div>

        </md-item-template>
        <md-not-found>
            <div layout="row" layout-align="start center">
                <span>0 rezultate</span>
            </div>
        </md-not-found>
    </md-autocomplete>
    <md-button ng-click="$ctrl.actions.openClientPage(0)" class="md-default md-icon-button">
        <md-icon>person_add</md-icon>
        <md-tooltip>Adauga client nou</md-tooltip>
    </md-button>
</form>