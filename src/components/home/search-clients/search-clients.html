<div layout="column" flex flex-gt-sm="50" flex-offset-gt-sm="25">

    <div layout="row" layout-align="space-around center">
        <h1>Cauta Clienti</h1>
    </div>

    <div layout="row">
        <form name="$ctrl.searchClientForm" flex>
            <md-autocomplete 
                placeholder="Introdu nume, prenume, telefon sau email" 
                md-no-cache="true" 
                md-delay="500" 
                md-search-text="$ctrl.data.searchText" 
                md-selected-item-change="$ctrl.actions.openClientPage(client._id)" 
                md-items="client in $ctrl.actions.searchClients($ctrl.data.searchText)"
                md-item-text="client.firstName">
                <md-item-template>
                    <span layout="row">
                        <md-icon ng-if="client.isVip" ng-class="['vip-text', client.vip.level.label]">
                            star
                            <md-tooltip hide show-gt-sm>
                                VIP: {{client.vip.type.label}}
                            </md-tooltip>
                        </md-icon>
                        <span flex 
                            md-highlight-text="$ctrl.data.searchText" 
                            md-highlight-flags="i">
                            {{client.firstName}} {{client.lastName}}
                        </span>
                        <span flex md-highlight-text="$ctrl.data.searchText" md-highlight-flags="i">
                            {{client.phoneNumber}} 
                        </span>
                        <span flex md-highlight-text="$ctrl.data.searchText" md-highlight-flags="i">
                            {{client.email}} 
                        </span>
                    </span>
                </md-item-template>
                <md-not-found>
                    <div layout="row" layout-align="start center">
                        <span>0 rezultate</span>
                        <span flex></span>
                        <md-button ng-click="$ctrl.actions.openClientPage(0)" class="md-primary">
                            <md-icon>add</md-icon>
                            Adauga client nou
                        </md-button>
                    </div>
                </md-not-found>
            </md-autocomplete>
        </form>
    </div>

    <div layout="row" layout-align="end center">
        <md-button ng-click="$ctrl.actions.openClientPage(0)" class="md-primary">
            <md-icon>person_add</md-icon>
            Adauga client nou
        </md-button>
    </div>
    
</div>